descriptor_version: 0.01
id: "00003"
name: "service_throughput_00003"
version: "0.1"
author: "tng-bench"
description: "BD generated by 5GTANGO benchmarking tool."

procedures:
  repeat:
    trials: 1
    tests: 1
    method: 1

targets:
  - id: "sut01"
    name: "ns-1vnf-ids-suricata"
    version: "0.1"
    author: "de.upb"
    vendor: "de.upb"
    description: "iperf test for entire service"

scenario:
  topology:
    nodes:
      - id: "sut01"  # references item in 'targets' list
        type: "5gtango" # (type: internal|osm|5gtango)
        # reference VNF/NS package used as SUT
        package_path: "/var/folders/yx/lvxqrl7j7954pkz6mmsh72br0000gn/T/tmpk3r0i2s2/gen_pkgs/service_throughput_00003.tgo"
        connection_points:
        - id: "input"
          interface: "ipv4"
          type: "internal"
          address: "172.31.1.2/30"
        - id: "output"
          interface: "ipv4"
          type: "internal"
          address: "172.31.1.3/30"
      - id:  "mp.input"
        image:  "mpeuster/tng-bench-mp"
        image_format: "docker"
        connection_points:
        - id: "eth1"
          interface: "ipv4"
          type: "internal"
          address: "172.31.1.1/24"
      - id:  "mp.output"
        image:  "mpeuster/tng-bench-mp"
        image_format: "docker"
        connection_points:
        - id: "eth1"
          interface: "ipv4"
          type: "internal"
          address: "172.31.1.4/24"
    links:
      - id: "mp.input:sut01"
        type: "E-LAN"
        network: ""
        connection_points:
          - "mp.input:eth1"
          - "sut01:input"
      - id: "sut01:mp.output"
        type: "E-LAN"
        network: ""
        connection_points:
          - "sut01:output"
          - "mp.output:eth1"
  requirements:
    - id: "sut01"
      resources:
        cpu:
          vcpus: 1
        memory:
          size: 512
          size_unit: "MB"
        storage:
          size: 2
          size_unit: "GB"
    - id: "mp.input"
      resources:
        cpu:
          vcpus: 1
        memory:
          size: 512
          size_unit: "MB"
        storage:
          size: 2
          size_unit: "GB"
    - id: "mp.output"
      resources:
        cpu:
          vcpus: 1
        memory:
          size: 512
          size_unit: "MB"
        storage:
          size: 2
          size_unit: "GB"

parameters:
  vnfs:
    - id: "sut01"
  agents:
    - id: "mp.input"
      probers:
        - id: 4
          parameters:
            client: True
            server: ""
            port: 
            protocol: ""
            duration: 
            frame_size: 
            rate: 
    - id: "mp.output"
      probers:
        - id: 4
          parameters:
            client: False
            port: 
            protocol: ""
            duration: 
  monitors:
    - id: ""
      listeners:
        - id: 17
          parameters:
            target: ""
            duration: 
            interval: 