vnf-bd:vnf-bd:
  author: tng-bench
  description: BD generated by tng-bench (https://sndzoo.github.io/).
  environment:
    description: vim-emu execution platform on fgcn-peuster
    name: default
    plugin:
      parameters:
      - input: entrypoint
        value: fgcn-peuster.cs.upb.de
      type: vimemu
  experiments:
    methods: 0
    tests: 56
    trials: 0
  id: '00560'
  name: upb_bench_02-01_00560
  proceedings:
    agents:
    - host:
        node: mp.output
        setting: internal
      id: mp.output
      probers:
      - id: '1'
        instances: 1
        name: mp.output
        parameters:
        - input: name
          value: mp.output
        - input: connection_point
          value: ns:output
        - input: container
          value: mpeuster/tng-bench-mp
        - input: address
          value: 20.0.0.254/24
        - input: start
          value: None
        - input: stop
          value: ./stop.sh
    - host:
        node: mp.input
        setting: internal
      id: mp.input
      probers:
      - id: '1'
        instances: 1
        name: mp.input
        parameters:
        - input: name
          value: mp.input
        - input: connection_point
          value: ns:input
        - input: container
          value: mpeuster/tng-bench-mp
        - input: address
          value: 20.0.0.1/24
        - input: start
          value: tcpreplay -i data -tK --loop 1000 --preload-pcap /pcaps/smallFlows.pcap
        - input: stop
          value: ./stop.sh
    attributes:
    - name: duration
      value: '30'
    monitors:
    - host:
        node: de.upb.ns-1vnf-ids-suricata.0.1
        setting: external
      id: default
      listeners:
      - id: '1'
        name: prometheus
        parameters:
        - input: target
          value: de.upb.ns-1vnf-ids-suricata.0.1
  scenario:
    links:
    - connection_point_refs:
      - vnf0:mgmt
      - ns:mgmt
      id: mgmt-elan
      type: E-LAN
    - connection_point_refs:
      - mp.input:data
      - vnf0:input
      id: input-2-vnf0
      type: E-Line
    - connection_point_refs:
      - vnf0:output
      - mp.output:data
      id: vnf0-2-output
      type: E-Line
    nodes:
    - connection_points:
      - id: vnf0:mgmt
        interface: ipv4
        type: management
      - id: vnf0:input
        interface: ipv4
        type: external
      - id: vnf0:output
        interface: ipv4
        type: external
      id: de.upb.ids-suricata.0.1
      image: mpeuster/vnf-ids-suricata
      image_format: docker
      lifecycle:
      - implementation: ./start.sh empty
        workflow: start
      - implementation: ./stop.sh
        workflow: stop
      resources:
        cpu:
          cpu_bw: '0.9'
          pinning: '0'
          vcpus: 0
        memory:
          size: 1024
          unit: MB
        storage:
          size: 10
          unit: GB
          volumes: None
      type: external
    - connection_points:
      - id: mp.output:data
        interface: ipv4
        type: external
      id: mp.output
      image: mpeuster/tng-bench-mp
      image_format: docker
      lifecycle:
      - implementation: None
        workflow: start
      - implementation: ./stop.sh
        workflow: stop
      resources:
        cpu:
          pinning: '3'
          vcpus: 3
        memory:
          size: 1024
          unit: MB
        storage:
          unit: MB
          volumes: None
      type: external
    - connection_points:
      - id: mp.input:data
        interface: ipv4
        type: external
      id: mp.input
      image: mpeuster/tng-bench-mp
      image_format: docker
      lifecycle:
      - implementation: tcpreplay -i data -tK --loop 1000 --preload-pcap /pcaps/smallFlows.pcap
        workflow: start
      - implementation: ./stop.sh
        workflow: stop
      resources:
        cpu:
          pinning: '2'
          vcpus: 2
        memory:
          size: 1024
          unit: MB
        storage:
          unit: MB
          volumes: None
      type: external
  targets:
  - author: de.upb
    id: '01'
    name: ns-1vnf-ids-suricata
    version: '0.1'
  version: '0.1'
